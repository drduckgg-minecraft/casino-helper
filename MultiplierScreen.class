/* Decompiler 82ms, total 199ms, lines 74 */
package com.lakutils.gui;

import com.lakutils.LakUtils;
import java.util.function.Consumer;
import net.minecraft.class_2561;
import net.minecraft.class_332;
import net.minecraft.class_342;
import net.minecraft.class_408;
import net.minecraft.class_4185;
import net.minecraft.class_437;

public class MultiplierScreen extends class_437 {
   private final Consumer<Double> onConfirm;
   private class_342 multiplierField;
   private String commandToExecute = null;

   public MultiplierScreen(Consumer<Double> onConfirm) {
      super(class_2561.method_43470("Enter Multiplier"));
      this.onConfirm = onConfirm;
   }

   public void setCommandToExecute(String command) {
      this.commandToExecute = command;
   }

   protected void method_25426() {
      int centerX = this.field_22789 / 2;
      int centerY = this.field_22790 / 2;
      this.multiplierField = new class_342(this.field_22793, centerX - 50, centerY - 10, 100, 20, class_2561.method_43470("Multiplier"));
      this.multiplierField.method_1880(5);
      this.multiplierField.method_1852(String.valueOf(LakUtils.config.defaultMultiplier));
      this.method_25429(this.multiplierField);
      this.method_48265(this.multiplierField);
      this.method_37063(class_4185.method_46430(class_2561.method_43470("OK"), (button) -> {
         try {
            double multiplier = Double.parseDouble(this.multiplierField.method_1882());
            this.onConfirm.accept(multiplier);
            this.method_25419();
         } catch (NumberFormatException var4) {
         }

      }).method_46434(centerX - 50, centerY + 20, 100, 20).method_46431());
   }

   public void method_25419() {
      super.method_25419();
      if (this.commandToExecute != null && this.field_22787 != null) {
         this.field_22787.method_1507(new class_408(this.commandToExecute));
      }

   }

   public void method_25394(class_332 context, int mouseX, int mouseY, float delta) {
      super.method_25394(context, mouseX, mouseY, delta);
      int centerX = this.field_22789 / 2;
      int centerY = this.field_22790 / 2;
      context.method_25300(this.field_22793, "Multiplier Won", centerX, centerY - 30, 16777215);
      this.multiplierField.method_25394(context, mouseX, mouseY, delta);
   }

   public boolean method_25402(double mouseX, double mouseY, int button) {
      this.multiplierField.method_25402(mouseX, mouseY, button);
      return super.method_25402(mouseX, mouseY, button);
   }

   public boolean method_25404(int keyCode, int scanCode, int modifiers) {
      return this.multiplierField.method_25404(keyCode, scanCode, modifiers) ? true : super.method_25404(keyCode, scanCode, modifiers);
   }

   public boolean method_25400(char chr, int modifiers) {
      return this.multiplierField.method_25400(chr, modifiers) ? true : super.method_25400(chr, modifiers);
   }
}
